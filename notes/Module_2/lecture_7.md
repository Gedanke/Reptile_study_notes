# Requests åº“ä½¿ç”¨

çˆ¬è™«ï¼Œå¯ä»¥è¯´æ˜¯ç”¨ç¨‹åºæ¨¡æ‹Ÿæµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œä»æœåŠ¡å™¨å¤„å¾—åˆ°å“åº”å¹¶è§£æå¤„ç†çš„è¿‡ç¨‹ã€‚è¿™å…¶ä¸­å‘ç”Ÿå¾ˆå¤æ‚çš„è¿‡ç¨‹ï¼Œé€šä¿¡åè®®ï¼ŒæœåŠ¡å™¨å“åº”å’Œåº”ç­”ç­‰ç­‰ã€‚

å¦‚æœè¿™äº›è¿‡ç¨‹éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å®Œæˆï¼Œå·¥ä½œé‡å¤ªå¤§äº†ã€‚Python çš„å¼ºå¤§ä¹‹å¤„å°±æ˜¯æœ‰å¾ˆå¤šå°è£…å¥½äº†çš„â€œè½®å­â€å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œ æ¯”å¦‚è¿™èŠ‚è¦è®²çš„ Requests åº“ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆç®€å•åœ°å®Œæˆä¸€ä¸ªè¯·æ±‚å’Œåº”ç­”è¿‡ç¨‹ï¼Œè€Œä¸éœ€è¦å…³å¿ƒå¤ªå¤šçš„åº•å±‚ç»†èŠ‚ã€‚

---
---

## å®‰è£…

å¦‚æœä½ å·²ç»å®‰è£…äº† Python3 ï¼Œä½¿ç”¨ pip3 å°±å¯ä»¥å®‰è£…äº†ã€‚

åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥ï¼š

```shell
pip3 install requests
```

æˆ–è€…ä½¿ç”¨Pycharmè‡ªå¸¦çš„å·¥å…·ï¼š

![](../../images/Module_2/lecture_7_1.jpg)

---

## å®ä¾‹

å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ª URL å¹¶å›è½¦ï¼Œæµè§ˆå™¨å°±å‘å‡ºæ¥äº†ä¸€ä¸ª GET è¯·æ±‚ï¼Œæµè§ˆå™¨å¾—åˆ°å“åº”ï¼Œè§£ææºä»£ç å¾—åˆ°ç½‘é¡µå†…å®¹ã€‚

å¦‚æœæˆ‘ä»¬æƒ³æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹çš„è¯ï¼Œä½¿ç”¨ ```requests``` åº“çš„ ```get``` æ–¹æ³•ï¼Œä¼ å…¥ URLï¼Œå°±å¯ä»¥å¾—åˆ°ç½‘é¡µæºä»£ç äº†ã€‚

ä»¥ [https://static1.scrape.cuiqingcai.com/](https://static1.scrape.cuiqingcai.com/) ä¸ºå®ä¾‹ç½‘ç«™ï¼š

![](../../images/Module_2/lecture_7_2.jpg)

ä½¿ç”¨ ```requests``` åº“æ¥çˆ¬å–ç½‘ç«™çš„æºä»£ç ï¼Œ[å®ä¾‹](../../codes/Module_2/lecture_7/lecture_7_1.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "https://static1.scrape.cuiqingcai.com/"
r = requests.get(url=url, verify=False)
print(r.text)
```

éƒ¨åˆ†ç»“æœä¸ºï¼š

```html

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" href="/static/img/favicon.ico">
    <title>Scrape | Movie</title>
    <link href="/static/css/app.css" type="text/css" rel="stylesheet">
    <link href="/static/css/index.css" type="text/css" rel="stylesheet">
</head>
<body>
<div id="app">
    ...
</div>
</body>
```

ç”±äºç½‘é¡µå†…å®¹å¤šï¼Œè¿™é‡Œåªæˆªå–äº†éƒ¨åˆ†ã€‚

ä»è¿è¡Œç»“æœå¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å·²ç»å¾—åˆ°äº†ç½‘é¡µçš„æºä»£ç ï¼Œé‡Œé¢åŒ…å«äº†ç”µå½±çš„æ ‡é¢˜ï¼Œç±»å‹ï¼Œä¸Šæ˜ æ—¶é—´ç­‰ç­‰ï¼Œä¹‹åæˆ‘ä»¬ä¼šä»ä¸­æå–ç›¸åº”çš„ä¿¡æ¯ã€‚

---

## è¯·æ±‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ ```requests``` æ¥æ„é€  GET è¯·æ±‚å’Œ POST è¯·æ±‚ã€‚

---

## GET è¯·æ±‚

ä»¥ [http://httpbin.org/get](http://httpbin.org/get) ä¸ºä¾‹ï¼Œå¦‚æœå®¢æˆ·ç«¯å‘èµ·äº† GET è¯·æ±‚ï¼Œè¯¥ç½‘ç«™ä¼šåˆ¤æ–­å¹¶è¿”å›ç›¸åº”çš„è¯·æ±‚ä¿¡æ¯ï¼ŒåŒ…æ‹¬ Headersï¼ŒIP ç­‰ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_2.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "http://httpbin.org/get"
r = requests.get(url=url)
print(r.text)
```

ç»“æœå¦‚ä¸‹ï¼š

```json
{
  "args": {},
  "headers": {
    "Accept": "*/*",
    "Accept-Encoding": "gzip, deflate",
    "Host": "httpbin.org",
    "User-Agent": "python-requests/2.18.4",
    "X-Amzn-Trace-Id": "Root=1-5e71a091-dddec6cc677846b05c4e05f8"
  },
  "origin": "117.178.93.51",
  "url": "http://httpbin.org/get"
}
```

ç½‘ç«™è¿”å›äº†è¯·æ±‚æ‰€æºå¸¦çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ Headersï¼ŒURLï¼ŒIP ç­‰ç­‰ã€‚

æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äº GET è¯·æ±‚ï¼ŒURL åé¢å¯ä»¥è·Ÿä¸€äº›å‚æ•°ï¼Œå¦‚æœæˆ‘ä»¬ç°åœ¨æƒ³æ·»åŠ ä¸¤ä¸ªå‚æ•°ï¼Œå…¶ä¸­ name æ˜¯ germeyï¼Œage æ˜¯ 25ï¼ŒURL å°±å¯ä»¥å†™æˆå¦‚ä¸‹å†…å®¹ï¼š

[http://httpbin.org/get?name=germey&age=25](http://httpbin.org/get?name=germey&age=25)

æ„é€ è¿™ä¸ªè¯·æ±‚è¿æ¥ï¼Œå¯ä»¥å†™æˆè¿™æ ·ï¼š

```python
r = requests.get("http://httpbin.org/get?name=germey&age=25")
```

æ›´æ–¹ä¾¿çš„å†™æ³•æ˜¯ [ä¸‹é¢](../../codes/Module_2/lecture_7/lecture_7_3.py) è¿™æ ·çš„ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "http://httpbin.org/get"
data = {
    "name": "germey",
    "age": 25
}
r = requests.get(url=url, params=data)
print(r.text)
```

ç»“æœä¸ºï¼š

```json
{
  "args": {
    "age": "25",
    "name": "germey"
  },
  "headers": {
    "Accept": "*/*",
    "Accept-Encoding": "gzip, deflate",
    "Host": "httpbin.org",
    "User-Agent": "python-requests/2.18.4",
    "X-Amzn-Trace-Id": "Root=1-5e71c90d-bb2daf48b3597b920f434f08"
  },
  "origin": "117.178.93.51",
  "url": "http://httpbin.org/get?name=germey&age=25"
}
```

åœ¨è¿™é‡Œæˆ‘ä»¬æŠŠ URL å‚æ•°é€šè¿‡å­—å…¸çš„å½¢å¼ä¼ ç»™ ```get``` æ–¹æ³•çš„ ```params```
å‚æ•°ï¼Œè¯·æ±‚çš„é“¾æ¥ä¾¿è‡ªåŠ¨å˜ä¸º [http://httpbin.org/get?name=germey&age=25](http://httpbin.org/get?name=germey&age=25)
ï¼Œè¿™ä¸€ç‚¹ä»è¿”å›çš„ä¿¡æ¯ args ä¹Ÿå¯ä»¥çœ‹å‡ºã€‚

æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œç½‘é¡µè¿”å›çš„ç±»å‹æ˜¯ str ç±»å‹çš„ï¼ŒJSON æ ¼å¼çš„ï¼Œå¦‚æœæƒ³å¾—åˆ° JSON æ ¼å¼çš„æ•°æ®ï¼Œä½¿ç”¨ json æ–¹æ³•å³å¯ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_4.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "http://httpbin.org/get"
r = requests.get(url=url)
print(type(r.text))
print(r.json())
print(type(r.json()))
```

ç»“æœä¸ºï¼š

```text
<class 'str'>
{'args': {}, 'headers': {'Accept': '*/*', 'Accept-Encoding': 'gzip, deflate', 'Host': 'httpbin.org', 'User-Agent': 'python-requests/2.18.4', 
'X-Amzn-Trace-Id': 'Root=1-5e71cb6e-b13fd4d8862a8338ce169e80'}, 'origin': '117.178.93.51', 'url': 'http://httpbin.org/get'}
<class 'dict'>
```

è°ƒç”¨ json æ–¹æ³•ï¼Œå°±å¯ä»¥å°†è¿”å›ç»“æœæ˜¯ JSON æ ¼å¼çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå­—å…¸ã€‚

å¦‚æœè¿”å›ç»“æœä¸æ˜¯ JSON æ ¼å¼ï¼Œä¾¿ä¼šå‡ºç°è§£æé”™è¯¯ï¼ŒæŠ›å‡º ```json.decoder.JSONDecodeError``` å¼‚å¸¸ã€‚

---

## æŠ“å–ç½‘é¡µ

æˆ‘ä»¬å¯¹å¾—åˆ°çš„ç½‘é¡µæºä»£ç è¿›è¡Œä¸€ä¸ªç®€å•çš„æå–ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_5.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests
import re

url = "https://static1.scrape.cuiqingcai.com/"
r = requests.get(url=url, verify=False)
pattern_str = "<h2.*?>(.*?)</h2>"
pattern = re.compile(pattern_str, re.S)
title = re.findall(pattern, r.text)
print(title)
```

ç»“æœä¸ºï¼š

```text
['éœ¸ç‹åˆ«å§¬ - Farewell My Concubine', 'è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†· - LÃ©on', 'è‚–ç”³å…‹çš„æ•‘èµ - The Shawshank Redemption', 
'æ³°å¦å°¼å…‹å· - Titanic', 'ç½—é©¬å‡æ—¥ - Roman Holiday', 'å”ä¼¯è™ç‚¹ç§‹é¦™ - Flirting Scholar', 'ä¹±ä¸–ä½³äºº - Gone with the Wind', 
'å–œå‰§ä¹‹ç‹ - The King of Comedy', 'æ¥šé—¨çš„ä¸–ç•Œ - The Truman Show', 'ç‹®å­ç‹ - The Lion King']
```

æˆ‘ä»¬ä½¿ç”¨äº†æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å‡ºæ‰€æœ‰çš„æ ‡é¢˜ï¼Œå…³äºæ­£åˆ™è¡¨è¾¾å¼ä¼šåœ¨ä¸‹ä¸€èŠ‚æ¶ˆæ¯ä»‹ç»ã€‚

ä»è¿è¡Œç»“æœå¯çŸ¥ï¼Œæˆ‘ä»¬æå–å‡ºäº†æ‰€æœ‰çš„ç”µå½±æ ‡é¢˜ï¼Œä¸€ä¸ªæœ€åŸºæœ¬çš„æŠ“å–å¹¶æå–ç½‘é¡µå†…å®¹æµç¨‹å°±å®Œæˆäº†ã€‚

---

## æŠ“å–äºŒè¿›åˆ¶æ•°æ®

ä¹‹å‰ä¾‹å­æŠ“å–çš„æ˜¯ç½‘é¡µé¡µé¢ï¼Œè¿”å›äº†ä¸€ä¸ªHTMLæ–‡æ¡£ï¼Œå¯¹äºå›¾ç‰‡ï¼Œè§†é¢‘ï¼ŒéŸ³é¢‘ç­‰ç­‰ï¼Œå®ƒä»¬éƒ½æ˜¯ç”±äºŒè¿›åˆ¶æ ¹æ®ç‰¹å®šçš„ç¼–ç æ ¼å¼ç»„æˆçš„ï¼Œç”±ç‰¹å®šçš„è§£ææ ¼å¼å°±å¯ä»¥å¾—åˆ°å®ƒä»¬ã€‚

æ¥çœ‹ä¸€ä¸ª [ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_6.py) ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "https://github.com/favicon.ico"
r = requests.get(url)
print(r.text)
print(r.content)
```

ç»“æœä¸ºï¼š

```text
:ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½O                                Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½                                      ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½                                        ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½!                                ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½4                                @ï¿½ï¿½ï¿½8ï¿½ï¿½ï¿½          
ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½333                                                ï¿½ï¿½ï¿½tï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½+Rï¿½ï¿½ï¿½ï¿½ï¿½ï¿½t                                                                `ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½                                                                    ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½\                                                                        Gï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½                                                                          ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½                                                                                ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½                                                                                ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½                                                                            ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½%                                                                           ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½v                                                                        aï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Gï¿½ï¿½ï¿½ï¿½ï¿½ï¿½                                                                ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½G+++ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½]                                                                Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½+++    ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½3                                                                ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½         ï¿½ï¿½ï¿½ï¿½ï¿½5            +*ï¿½ï¿½ï¿½                ï¿½ï¿½ï¿½&            !ï¿½ï¿½ï¿½ï¿½ï¿½             ï¿½ï¿½ï¿½ï¿½ï¿½f    @@@bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½l+++    Rï¿½ï¿½ï¿½ï¿½ï¿½                $$$ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½$$$                     ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½                             .ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½.                                     ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½                                             $$$ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½$$$                                                         ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½                                                                         +++Gï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½G+++                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
b'\x00\x00\x01\x00\x02\x00\x10\x10\x00\x00\x01\x00 \x00(\x05\x00\x00&\x00\x00\x00  \x00\x00\x01\x00 \x00(\x14\x00\x00N\x05\x00\x00(\x00\x00\x00\x10\x00\x00\x00 \x00\x00\x00\x01\x00 \x00\x00\x00\x00\x00\x00\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11\x11\x13v\x13\x13\x13\xc5\x0e\x0e\x0e\x12\x00\x00\x00\x00\x00\x00\x00\x00\x0f\x0f\x0f\x11\x11\x11\x14\xb1\x13\x13\x13i\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x14\x14\x14\x96\x13\x13\x14\xfc\x13\x13\x14\xed\x00\x00\x00\x19\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18\x15\x15\x17\xff\x15\x15\x17\xff\x11\x11\x13\x85\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11\x11\x12\xc1\x13\x13\x14\xee\x11\x11\x11\x1e\x10\x10\x10\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\r\x13\x13\x14\xf5\x15\x15\x17\xff\x15\x15\x17\xff\x11\x11\x14\xaf\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x14\x14\x14\x99\x15\x15\x17\xff\x06\x06\x11,\x0e\x0e\x0e\\\x0f\x0f\x0f\xc1\x0f\x0f\x0f"\x00\x00\x00\x00\x00\x00\x00\x00\x0f\x0f\x0f4\x10\x10\x10\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x14\x14\x14\x8f\x00\x00\x00\x00\x10\x10\x100\x0f\r\x0f\xff\x00\x00\x00\xf9\x01\x01\x01\xed\x02\x02\x02\xff\x02\x02\x02\xf6\x0e\x0e\x0e8\x00\x00\x00\x00\x00\x00\x00\x00\x08\x08\x08@\x02\x02\x02\xeb\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x11\x11\x11-\x14\x14\x15\x9c\x14\x14\x15\xff\x01\x01\x01\xfc\x0f\x0f\x11\xfb\r\r\x11;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\r\r\x12:\x13\x13\x14\xe7\x15\x15\x17\xff\x15\x15\x17\xff\x12\x12\x12\x9a\x13\x13\x13\xd9\x15\x15\x17\xff\x15\x15\x17\xff\x13\x13\x13O\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11\x11\x11L\x15\x15\x17\xff\x15\x15\x17\xff\x13\x13\x13\xda\x13\x13\x14\xf6\x15\x15\x17\xff\x14\x14\x14\xf0\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x13\x13\x14\xf1\x15\x15\x17\xff\x13\x13\x14\xf6\x13\x13\x14\xf7\x15\x15\x17\xff\x14\x14\x14\xe1\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x14\x14\x14\xe1\x15\x15\x17\xff\x13\x13\x14\xf7\x14\x14\x14\xde\x15\x15\x17\xff\x13\x13\x14\xf9\x0f\x0f\x0f!\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10\x10\x10\x1f\x13\x13\x14\xf8\x15\x15\x17\xff\x14\x14\x14\xde\x11\x11\x14\xa2\x15\x15\x17\xff\x15\x15\x17\xff\x0f\x0f\x0f4\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10\x10\x10@\x15\x15\x17\xff\x15\x15\x17\xff\x11\x11\x14\xa2\x0e\x0e\x0e8\x15\x15\x17\xff\x15\x15\x17\xff\x12\x12\x12\x98\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x00\x00\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x01\x00\x00\x00\x00\x12\x12\x12\x98\x15\x15\x17\xff\x15\x15\x17\xff\x0e\x0e\x0e8\x00\x00\x00\x00\x11\x11\x14\xa4\x15\x15\x17\xff\x11\x11\x12\xc1\x0e\x0e\x0e6\x00\x00\x00\x81\r\r\r\xdc\x12\x12\x14\xd8\x12\x12\x14\xd8\x13\x13\x14\xf7\x00\x00\x00t\x05\x05\x057\x11\x11\x12\xc1\x15\x15\x17\xff\x11\x11\x14\xa4\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\x13\x13\x13\xc6\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x13\x13\x13\xc6\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\x11\x11\x14\xa2\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x11\x11\x14\xa2\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10\x10\x10>\x13\x13\x13\x97\x13\x13\x13\xd9\x12\x12\x14\xf2\x12\x12\x14\xf2\x13\x13\x13\xd9\x13\x13\x13\x97\x10\x10\x10>\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00(\x00\x00\x00 \x00\x00\x00@\x00\x00\x00\x01\x00 \x00\x00\x00\x00\x00\x00\x14\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15+\x0c\x1e\x1e\x1e\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1b\x1b\x1b\x1c$$$\x0e\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16\x16\x1d#\x17\x17\x18\x92\x15\x15\x17\xf1\x16\x16\x17\xf3@@@\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16\x16\x18\xed\x16\x16\x17\xf3\x16\x16\x18\x95\x1c\x1c\x1c%\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00$$$\x07\x16\x16\x18\x80\x16\x16\x18\xf8\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff   \x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15\x17\xfe\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xf9\x16\x16\x18\x82   \x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1b\x1b\x1b\x1c\x16\x16\x17\xd0\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff+++\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15\x17\xfd\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x17\xd2\x1a\x1a\x1a\x1e\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16\x16\x1b/\x15\x15\x17\xe6\x15\x15\x17\xff\x15\x15\x17\xfc\x16\x16\x18\xb8\x16\x16\x18t\x16\x16\x19g\x16\x16\x18~UUU\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15\x17\xfc\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xe6\x16\x16\x1b/\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a\x1a\x1a\x1d\x15\x15\x17\xe6\x15\x15\x17\xff\x15\x15\x17\xfc\x18\x18\x18I\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15\x17\xfb\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xe6\x1a\x1a\x1a\x1d\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00$$$\x07\x16\x16\x17\xd1\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x18\x9d\x00\x00\x00\x00\x15\x15 \x18\x16\x16\x18s\x15\x15\x17\x90\x17\x17\x19f$$$\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1c\x1c\x1c\x12\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x17\xd1$$$\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16\x16\x18\x81\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xf1\x1b\x1b\x1b\x1c\x1c\x1c\x1c%\x16\x16\x18\xeb\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x17\x17\x1aN\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18\x18\x18@\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15\x1c$\x16\x16\x18\xf9\x15\x15\x17\xff\x15\x15\x18\xee\x16\x16\x1aE\x15\x15+\x0c\x16\x16\x17\xcf\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x17\xc4\x80\x80\x80\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15\x18\xbf\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xf8\x16\x16\x1d#\x00\x00\x00\x00\x00\x00\x00\x00\x16\x16\x18\x94\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x17\x8e\x17\x17\x1aZ\x16\x16\x17\xd1\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x18\xe2\x16\x16\x18\x80\x16\x16\x1aE\x1c\x1c\x1c\x12\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"""\x0f\x17\x17\x17B\x17\x17\x19{\x16\x16\x17\xdb\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x17\x17\x18\x93\x00\x00\x00\x00\'\'\'\r\x15\x15\x17\xf2\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xfe\x16\x16\x18\x82333\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x80\x80\x02\x16\x16\x18t\x15\x15\x17\xfc\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xf2\x15\x15+\x0c\x16\x16\x19R\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18t\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15\x18`\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x19R\x15\x15\x19\x91\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x18\xca\xff\xff\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16\x16\x18\xb7\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x19\x91\x16\x16\x18\xc9\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x19\\\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16\x16\x19G\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xc8\x16\x16\x18\xe1\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x17\x17\x17\x16\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00   \x08\x16\x16\x18\xf8\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xe0\x16\x16\x18\xf5\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xf2\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16\x16\x18\xde\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xf5\x16\x16\x17\xf3\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xde\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15\x18\xca\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x17\xf3\x15\x15\x18\xd9\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xf4\xff\xff\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16\x16\x18\xe1\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x18\xd9\x15\x15\x18\xbf\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x1c\x1c\x1c%\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00   \x10\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x18\xbf\x16\x16\x18\x95\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18v\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15\x18a\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\x95\x16\x16\x19G\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xf4\x19\x19\x19\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1b\x1b\x1b\x13\x16\x16\x18\xeb\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x19G+++\x06\x15\x15\x17\xf1\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x19]\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18\x18\x18I\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xf1+++\x06\x00\x00\x00\x00\x16\x16\x18\x97\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x19\x19\x193\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a\x1a\x1a\x1e\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\x97\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15 \x18\x16\x16\x18\xf4\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x18\x18\x185\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15+\x0c\x18\x18\x18*\x80\x80\x80\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xff\x01\x1b\x1b\x1b&\x1e\x1e\x1e\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17\x17\x17!\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xf4\x15\x15 \x18\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16\x16\x18\x82\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x17\x17\x19f\x00\x00\x00\x00@@@\x04\x17\x17\x17b\x16\x16\x17\xe7\x15\x15\x17\xff\x16\x16\x17\xf3\x16\x16\x17\xd2\x15\x15\x18\xc1\x15\x15\x18\xc0\x16\x16\x17\xd1\x15\x15\x17\xf0\x15\x15\x17\xff\x16\x16\x18\xed\x15\x15\x18l+++\x06\x00\x00\x00\x00\x16\x16\x19R\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\x82\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00$$$\x07\x16\x16\x18\xc8\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x18\xd6\x15\x15\x18\xa8\x16\x16\x18\xec\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xef\x15\x15\x18\xaa\x15\x15\x18\xcd\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xc8$$$\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15 \x18\x15\x15\x18\xe3\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x18\xe3\x15\x15 \x18\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16\x16\x1c.\x15\x15\x18\xe3\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x18\xe3\x16\x16\x1c.\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15 \x18\x16\x16\x18\xc8\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xc8\x15\x15 \x18\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00$$$\x07\x16\x16\x18\x82\x16\x16\x18\xf4\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x16\x16\x18\xf4\x16\x16\x18\x82$$$\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x15\x15 \x18\x16\x16\x18\x97\x15\x15\x17\xf1\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xff\x15\x15\x17\xf1\x16\x16\x18\x97\x15\x15 \x18\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00+++\x06\x16\x16\x19G\x16\x16\x18\x95\x15\x15\x18\xbf\x15\x15\x18\xd9\x16\x16\x17\xf3\x16\x16\x17\xf3\x15\x15\x18\xd9\x15\x15\x18\xbf\x16\x16\x18\x95\x16\x16\x19G+++\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'
```

è¿™æ ·æ‰“å°äº† r çš„ä¸¤ä¸ªå±æ€§ï¼Œ```text``` å’Œ ```content```ã€‚

å‰ä¸¤è¡Œæ˜¯ ```r.text```ï¼Œå‡ºç°äº†ä¹±ç ï¼Œå› ä¸ºå›¾ç‰‡æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œè½¬æ¢ä¸º ```str``` ç±»å‹æ—¶è‡ªç„¶ä¼šä¹±ç ï¼Œæœ€åä¸€è¡Œæ˜¯ ```r.content```ï¼Œè¿™æ˜¯ ```bytes``` ç±»å‹æ•°æ®ã€‚

è¿™æ · URL å®é™…ä¸Šæ˜¯ github çš„å›¾æ ‡ï¼š

![](../../images/Module_2/lecture_7_3.jpg)

æˆ‘ä»¬å¯ä»¥å°†å›¾ç‰‡çš„äºŒè¿›åˆ¶æ•°æ®ä¿å­˜èµ·æ¥ï¼š

[ç¨‹åº](../../codes/Module_2/lecture_7/lecture_7_7.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "https://github.com/favicon.ico"
r = requests.get(url)
with open("favicon.ico", "wb") as f:
    f.write(r.content)
```

è¿™é‡Œæˆ‘ä»¬å°†æ•°æ®ä»¥äºŒè¿›åˆ¶å½¢å¼å†™å…¥äº†å½“å‰è·¯å¾„ä¸‹ã€‚

è¿è¡Œåï¼Œå¯ä»¥åœ¨å½“å‰è·¯çº¿ä¸‹çœ‹åˆ° ```favicon.ico``` çš„å›¾æ ‡ï¼š

![](../../images/Module_2/lecture_7_4.jpg)

å›¾ç‰‡æˆ‘ä»¬å°±æˆåŠŸä¿å­˜äº†ï¼Œå¯¹äºè§†é¢‘å’ŒéŸ³é¢‘æˆ‘ä»¬ä¹Ÿæ˜¯ç±»å‹çš„æ–¹æ³•ã€‚

---

## æ·»åŠ  headers

åœ¨ä¸€ä¸ª HTTP è¯·æ±‚ä¸­ï¼Œè¯·æ±‚å¤´æ˜¯ä¸€ä¸ªé‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œå¦‚æœä¸è®¾ç½®è¯·æ±‚å¤´ï¼Œç½‘ç«™å‘ç°å®ƒä¸æ˜¯ä¸€ä¸ªæ­£å¸¸æµè§ˆå™¨å‘èµ·çš„ï¼Œå¾ˆå¯èƒ½ä¼šå¾—ä¸åˆ°é¢„æœŸç»“æœã€‚

Python ä¸€é”®æ„é€ çˆ¬è™«è¯·æ±‚å¤´ï¼Œ[å‚è€ƒ](https://segmentfault.com/a/1190000019926385) ã€‚

å¦‚æœæˆ‘ä»¬æƒ³æ·»åŠ ä¸€ä¸ª User-Agent å­—æ®µï¼Œæˆ‘ä»¬å¯ä»¥ä»æµè§ˆå™¨ä¸­å¾—åˆ°ï¼š

![](../../images/Module_2/lecture_7_5.jpg)

ä¹‹åå¯ä»¥å¦‚ä¸‹æ“ä½œï¼Œ[ç¨‹åº](../../codes/Module_2/lecture_7/lecture_7_8.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

headers = {
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) "
                  "AppleWebKit/537.36 (KHTML, like Gecko) "
                  "Chrome/80.0.3987.132 Safari/537.36"
}
url = "https://static1.scrape.cuiqingcai.com/"
r = requests.get(url=url, headers=headers)
print(r.text)
```

éƒ¨åˆ†ç»“æœä¸ºï¼š

```html

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" href="/static/img/favicon.ico">
    <title>Scrape | Movie</title>
    <link href="/static/css/app.css" type="text/css" rel="stylesheet">
    <link href="/static/css/index.css" type="text/css" rel="stylesheet">
</head>
<body>
<div id="app">
    ...
</div>
</body>
```

åœ¨ headers å‚æ•°ä¸­æ·»åŠ å…¶ä»–å­—æ®µä¿¡æ¯ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚

---

## POST è¯·æ±‚

æˆ‘ä»¬ä½¿ç”¨ POST è¯·æ±‚æ¥è®¿é—® [http://httpbin.org/post](http://httpbin.org/post) ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_9.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

data = {
    "name": "germey",
    "age": "25"
}
url = "http://httpbin.org/post"
r = requests.post(url=url, data=data)
print(r.text)
```

ç»“æœä¸ºï¼š

```json5
{
  "args": {},
  "data": "",
  "files": {},
  "form": {
    "age": "25",
    "name": "germey"
  },
  "headers": {
    "Accept": "*/*",
    "Accept-Encoding": "gzip, deflate",
    "Content-Length": "18",
    "Content-Type": "application/x-www-form-urlencoded",
    "Host": "httpbin.org",
    "User-Agent": "python-requests/2.18.4",
    "X-Amzn-Trace-Id": "Root=1-5e71dfcd-d55d50bec263dd263752df20"
  },
  "json": null,
  "origin": "117.178.93.51",
  "url": "http://httpbin.org/post"
}
```

form éƒ¨åˆ†å°±æ˜¯æäº¤çš„æ•°æ®ï¼Œè¿™å°±è¯æ˜ POST è¯·æ±‚æˆåŠŸå‘é€äº†ã€‚

---

## å“åº”

å‘é€è¯·æ±‚åï¼Œå¾—åˆ°çš„æ˜¯å“åº”ï¼Œå³ Responseã€‚

åœ¨ä¹‹å‰çš„å®ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ ```text``` å’Œ ```content``` è·å–äº†å“åº”çš„å†…å®¹ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šå±æ€§å’Œæ–¹æ³•å¯ä»¥ç”¨æ¥è·å–å…¶ä»–ä¿¡æ¯ï¼Œæ¯”å¦‚çŠ¶æ€ç ï¼Œå“åº”å¤´ï¼ŒCookies ç­‰ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_10.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "https://static1.scrape.cuiqingcai.com/"
r = requests.get(url=url, verify=False)

print(type(r.status_code), r.status_code)
print(type(r.headers), r.headers)
print(type(r.cookies), r.cookies)
print(type(r.url), r.url)
print(type(r.history), r.history)
```

ç»“æœä¸ºï¼š

```text
<class 'int'> 200
<class 'requests.structures.CaseInsensitiveDict'> {'Server': 'nginx/1.17.8', 'Date': 'Wed, 18 Mar 2020 08:53:19 GMT', 'Content-Type': 'text/html; charset=utf-8', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Vary': 'Accept-Encoding', 'X-Frame-Options': 'SAMEORIGIN', 'Strict-Transport-Security': 'max-age=15724800; includeSubDomains', 'Content-Encoding': 'gzip'}
<class 'requests.cookies.RequestsCookieJar'> <RequestsCookieJar[]>
<class 'str'> https://static1.scrape.cuiqingcai.com/
<class 'list'> []
```

```status_code``` å±æ€§å¾—åˆ°çŠ¶æ€ç ï¼Œ```headers``` å±æ€§å¾—åˆ°å“åº”å¤´ï¼Œ```cookies``` å±æ€§å¾—åˆ° ```Cookies```ï¼Œ```url``` å±æ€§å¾—åˆ° URLï¼Œ```history```
å±æ€§å¾—åˆ°è¯·æ±‚å†å²ã€‚

å¯ä»¥çœ‹å‡ºï¼Œheaders å’Œ cookies è¿™ä¸¤ä¸ªå±æ€§å¾—åˆ°çš„ç»“æœåˆ†åˆ«æ˜¯ ```CaseInsensitiveDict``` å’Œ ```RequestsCookieJar``` ç±»å‹ã€‚

é€šè¿‡çŠ¶æ€ç ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“æ˜¯å¦çˆ¬å–æˆåŠŸï¼Œè€Œ ```requests``` æä¾›äº†ä¸€ä¸ªå†…ç½®çš„çŠ¶æ€ç æŸ¥è¯¢å¯¹è±¡ ```requests.codes```ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_11.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "https://static1.scrape.cuiqingcai.com/"
r = requests.get(url=url, verify=False)

if not r.status_code == requests.codes.ok:
    exit()
else:
    print("Request Successfully")
```

ç»“æœä¸ºï¼š

```text
Request Successfully
```

è¿™é‡Œ ```requests.codes.ok``` è¡¨ç¤ºæˆåŠŸçš„çŠ¶æ€ç  200ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨ç›´æ¥å†™æ•°å­—äº†ï¼Œè€Œä¸”ä½¿ç”¨å­—ç¬¦ä¸²ä¹Ÿæ›´åŠ ç›´è§‚ã€‚

å¯¹äºå…¶ä»–çŠ¶æ€ç ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ ```requests.codes``` çš„æºç ï¼š

```python
    # Informational.
    100: ('continue',),
    101: ('switching_protocols',),
    102: ('processing',),
    103: ('checkpoint',),
    122: ('uri_too_long', 'request_uri_too_long'),
    200: ('ok', 'okay', 'all_ok', 'all_okay', 'all_good', '\\o/', 'âœ“'),
    201: ('created',),
    202: ('accepted',),
    203: ('non_authoritative_info', 'non_authoritative_information'),
    204: ('no_content',),
    205: ('reset_content', 'reset'),
    206: ('partial_content', 'partial'),
    207: ('multi_status', 'multiple_status', 'multi_stati', 'multiple_stati'),
    208: ('already_reported',),
    226: ('im_used',),

    # Redirection.
    300: ('multiple_choices',),
    301: ('moved_permanently', 'moved', '\\o-'),
    302: ('found',),
    303: ('see_other', 'other'),
    304: ('not_modified',),
    305: ('use_proxy',),
    306: ('switch_proxy',),
    307: ('temporary_redirect', 'temporary_moved', 'temporary'),
    308: ('permanent_redirect',
          'resume_incomplete', 'resume',),  # These 2 to be removed in 3.0

    # Client Error.
    400: ('bad_request', 'bad'),
    401: ('unauthorized',),
    402: ('payment_required', 'payment'),
    403: ('forbidden',),
    404: ('not_found', '-o-'),
    405: ('method_not_allowed', 'not_allowed'),
    406: ('not_acceptable',),
    407: ('proxy_authentication_required', 'proxy_auth', 'proxy_authentication'),
    408: ('request_timeout', 'timeout'),
    409: ('conflict',),
    410: ('gone',),
    411: ('length_required',),
    412: ('precondition_failed', 'precondition'),
    413: ('request_entity_too_large',),
    414: ('request_uri_too_large',),
    415: ('unsupported_media_type', 'unsupported_media', 'media_type'),
    416: ('requested_range_not_satisfiable', 'requested_range', 'range_not_satisfiable'),
    417: ('expectation_failed',),
    418: ('im_a_teapot', 'teapot', 'i_am_a_teapot'),
    421: ('misdirected_request',),
    422: ('unprocessable_entity', 'unprocessable'),
    423: ('locked',),
    424: ('failed_dependency', 'dependency'),
    425: ('unordered_collection', 'unordered'),
    426: ('upgrade_required', 'upgrade'),
    428: ('precondition_required', 'precondition'),
    429: ('too_many_requests', 'too_many'),
    431: ('header_fields_too_large', 'fields_too_large'),
    444: ('no_response', 'none'),
    449: ('retry_with', 'retry'),
    450: ('blocked_by_windows_parental_controls', 'parental_controls'),
    451: ('unavailable_for_legal_reasons', 'legal_reasons'),
    499: ('client_closed_request',),

    # Server Error.
    500: ('internal_server_error', 'server_error', '/o\\', 'âœ—'),
    501: ('not_implemented',),
    502: ('bad_gateway',),
    503: ('service_unavailable', 'unavailable'),
    504: ('gateway_timeout',),
    505: ('http_version_not_supported', 'http_version'),
    506: ('variant_also_negotiates',),
    507: ('insufficient_storage',),
    509: ('bandwidth_limit_exceeded', 'bandwidth'),
    510: ('not_extended',),
    511: ('network_authentication_required', 'network_auth', 'network_authentication'),
```

---

## é«˜çº§ç”¨æ³•

åˆšæ‰ï¼Œæˆ‘ä»¬äº†è§£äº† ```requests``` çš„åŸºæœ¬ç”¨æ³•ï¼Œå¦‚åŸºæœ¬çš„ GETï¼ŒPOST è¯·æ±‚ä»¥åŠ Response å¯¹è±¡ã€‚

è¿™ä»…ä»…æ˜¯å†°å±±ä¸€è§’ï¼Œ```requests``` å‡ ä¹å¯ä»¥å®ŒæˆHTPPçš„æ‰€æœ‰æ“ä½œã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»‹ç» ```requests``` åº“çš„é«˜çº§ç”¨æ³•ï¼Œå¦‚æ–‡ä»¶ä¸Šä¼ ï¼ŒCookies è®¾ç½®ï¼Œä»£ç†è®¾ç½®ç­‰ç­‰

---

### æ–‡ä»¶ä¸Šä¼ 

å¦‚æœä¸€ä¸ªç½‘ç«™éœ€è¦ä¸Šä¼ æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ POST è¯·æ±‚å®ç°ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_12.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

file_path = "favicon.ico"
files = {
    "file": open(file_path, "rb")
}
url = "http://httpbin.org/post"
r = requests.post(url=url, files=files)

print(r.text)
```

ç»“æœä¸ºï¼š

```json5
{
  "args": {},
  "data": "",
  "files": {
    "file": "data:application/octet-stream;base64,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AAAAAAAAKysrBhYWGUcWFhiVFRUYvxUVGNkWFhfzFhYX8xUVGNkVFRi/FhYYlRYWGUcrKysGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="
  },
  "form": {},
  "headers": {
    "Accept": "*/*",
    "Accept-Encoding": "gzip, deflate",
    "Content-Length": "6665",
    "Content-Type": "multipart/form-data; boundary=22ee8820c2f949c7a662ade1c3f9b4f6",
    "Host": "httpbin.org",
    "User-Agent": "python-requests/2.18.4",
    "X-Amzn-Trace-Id": "Root=1-5e71e564-5191e1c012596fb04fcfefe0"
  },
  "json": null,
  "origin": "117.178.93.51",
  "url": "http://httpbin.org/post"
}
```

è¿™é‡Œæˆ‘ä»¬ä¸Šä¼ æŒ‡å®šè·¯å¾„ä¸‹çš„ ```favicon.ico``` æ–‡ä»¶ï¼Œä¸Šä¼ å…¶ä»–æ–‡ä»¶çš„æ“ä½œç±»ä¼¼ï¼Œç½‘ç«™è¿”å›å“åº”ï¼Œé‡Œé¢åŒ…å« ```files``` è¿™ä¸ªå­—æ®µï¼Œè€Œ ```formå­—``` æ®µæ˜¯ç©ºçš„ï¼Œè¿™è¯æ˜æ–‡ä»¶ä¸Šä¼ éƒ¨åˆ†ä¼šå•ç‹¬æœ‰ä¸€ä¸ª ```files``` å­—æ®µæ¥æ ‡è¯†ã€‚

---

### Cookies

æˆ‘ä»¬å¦‚æœæƒ³ç”¨ ```requests``` è·å–å’Œè®¾ç½® Cookies ä¹Ÿéå¸¸æ–¹ä¾¿ã€‚

[è¿‡ç¨‹](../../codes/Module_2/lecture_7/lecture_7_13.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "https://www.baidu.com/"
r = requests.get(url=url)

print(r.cookies)
for key, value in r.cookies.items():
    print(key + "=" + value)
```

ç»“æœä¸ºï¼š

```textmate
<RequestsCookieJar[<Cookie BDORZ=27315 for .baidu.com/>]>
BDORZ=27315
```

è¿™é‡Œæˆ‘ä»¬é¦–å…ˆè°ƒç”¨ ```cookies``` å±æ€§å³å¯æˆåŠŸå¾—åˆ° Cookiesï¼Œå¯ä»¥å‘ç°å®ƒæ˜¯ ```RequestCookieJar``` ç±»å‹ã€‚ç„¶åç”¨ ```items``` æ–¹æ³•å°†å…¶è½¬åŒ–ä¸ºå…ƒç»„ç»„æˆçš„åˆ—è¡¨ï¼Œéå†è¾“å‡ºæ¯ä¸€ä¸ª Cookie çš„åç§°å’Œå€¼ï¼Œå®ç° Cookie çš„éå†è§£æã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Cookie æ¥ç»´æŒç™»é™†çŠ¶æ€ï¼Œä»¥ Github ä¸ºä¾‹ã€‚

æˆ‘ä»¬å…ˆç™»é™†ä¸ªäººçš„ GitHub è´¦å·ï¼Œå°† Headers ä¸­çš„ Cookie å¤åˆ¶ä¸‹æ¥ï¼š

![](../../images/Module_2/lecture_7_6.jpg)

æå–ä¸ªäººçš„ Cookie ï¼Œæ”¾åˆ°è¯·æ±‚å¤´ Headers ä¸­ï¼Œå‘é€è¯·æ±‚ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_14.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

headers = {
    "Cookie": "_octo=GH1.1.1819589382.1584486488; _device_id=099cf2a13524a2c20ad62f0e91191d4d; _ga=GA1.2.813069593.1584486504; tz=Asia%2FShanghai; user_session=ReKP5u5LLH61NGCHZ7Dj4YlpvLt26tHIqIPIK-k9kLWgwp0B; __Host-user_session_same_site=ReKP5u5LLH61NGCHZ7Dj4YlpvLt26tHIqIPIK-k9kLWgwp0B; logged_in=yes; dotcom_user=Gedanke; _gh_sess=bBnIWA4C5jutpcfzayOqVqOHZZvOoX2I9EikNoCNSpNelUcxCvsKTOyKL9n8gjW6cSl08wHzYuEPtDa2NS%2BziQmaxyydldvS22jLFMrOj59jr68j8nDY2IxnTPZsN4rN7vC99Z9ktKubl01LwB%2FroOC3roPhnAabaXbmU1z%2BfF0viOxPDXhw8Su0MdRtVlu8WIEiLwfUdbRABefUVjMxN0OdhRXLOBKyFLLH23Y50wriV47UEy0UuZi0fbcrtW22sFUVk6XCw9tbJ4vCtxD8mScPZCTRyhZE7nGuYLYGsPs8xsZrIkBmEUk1gUXfUlDf%2B1SM5%2BHKhzIDKQkn6%2BSHEfXyMq%2FTJgrUBkFHKy7au%2FYn5zbdeC4aIBQ%2Bdj1U%2FlgaR8pMLiYZGaMPiefoeNdcE1og9jAVOjGG0HF9%2FjGirYVmbgKWReGrbu3Ypm6EXRGrCuCnuLzcjcVDMTl7n5ubq%2F3Le0Io6Wvk4xyIcxeK1OwcGnRtGNfjtGf66C4TTDv3ZLdPJdAxFJxcH2119FRFdXVVN843A%2Fw%2BcsgV6NFbinoXPXtj1ZVznLPD3lj79VwvD1zdgMbqPuuneyTAKWKMPOrZ5w%2B4BHoE0vl%2BHViGVlh07AkdZhfEmSDOPB945z2Z8nOawRjdmybxw%2FDlGGW2y9qHBcLK2BXlgnve0vFCr2bKyj7xPVlHkOFVV032OiiV0eIDsgN5QIsVIgiQwA2R05jO6%2Fu%2F27jerdRSPY72e49sC3ILPo07X%2FogPFnUiD7SNT63CUZHz3V%2FAU0b61esLCMgJjdmNFCTwhLqXGbjdL9tbZpQVr0VmIxOkadO76qK8Wjwl7BYtzctAInrnCS8Z6GTbzvdmO%2FOcmhRjapFANsuw6ma4PtYiScFeJb2NmUwTRJpFIVcOstsrzn2nbvAGp8IsXwn2PTff6XA9E3oca2b%2F71%2Fs3x9ub8EKCzs75%2F2zYnCS1sewoWp9O0ttxo0s0YWdjfSSrMrBhSw4UHgYY43pBFsFpVJetJbfvBCzSo6%2Bmzc8zqE2TqaREdtH73NXTlI%2BAo13VhYVY0%2BaLurI5cKoaGK2iuJrED5xMhtjGhMVbEl9%2BkQMBvca%2FMOVqBUivXcFB9xju7zOauUqQeDMmiXEhyHfMnRnp7LQsi8RuTfi4mXWpGJ6zyiUQS7Bm592jdV77O4oS5gLKdNHcW%2FHv0QAfP81oWPtHMGkB7YzEAaMN06IB%2BXnGYTv2%2Fljuc4Idj3c7A3ALAF5X3HDTIXZZtqM5R%2FvW2tvGNI%2Fr%2FKxKs4%2FmeK6qOoEWS6rDuw0lu9NlyCWGRJxly0QKUUIuhpICSOzg%2FNyurfwZMRdbydfXKo9rh25LbqPxncwxZ1LB81ZBkiclsu%2FwtnjmLmOTpElm4zfB2fPSY2xbsXVyTr07ibNuqCnXJJ5rkJVT773Q5RhOl2LzG7N6oKXEF42UeZUBdJugY31oISUdx8T13nwCtD36QX%2FuEREXzGMQrK%2B8Yt64u%2F6TWJFb9YcYP%2Bdo6eDTcEwgnRBgBgwdDc%2Bg69R2pT2dDn%2B9wi%2BFDIBIuf00yUwzO7WE8skh1b%2FR4ElaEcicPNfmvUX5P9Be4G32WlGCfS0V%2FoQp4QDMt1my47syqBFvrM5RwHfdo9ITwXolR9%2BSsU0r6VTrZWKjvdsaM19AnJ6iCAu7td43YzOf%2BV35hZA2mCi7OePKqRbg%2BWaElXDMJm%2F4R0Fwoie%2B7R1PEPIFpxPcJO%2FpWpbFTziYmgDuOJy%2BWP7L2mIptMe0TZB%2B90TLJejOY4zVWx1FVjZ5qtULq99Ls7%2B%2B0dYQqaTzcCua4FGmXyajMOaOi6T%2FqoIqLFehIDTbNGGvryP4QSC6woVSihpCf7XNC1ALVIfvTu--5lqrnPABlumLAeh2--FIRpm6tm1fHIQ%2FqiVWwqVg%3D%3D",
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) "
                  "AppleWebKit/537.36 (KHTML, like Gecko) "
                  "Chrome/80.0.3987.132 Safari/537.36"
}
url = "https://github.com/"

r = requests.get(url=url, headers=headers)
print(r.text)
```

éƒ¨åˆ†ç»“æœå¦‚ä¸‹ï¼š

```html
<!DOCTYPE html>
<html lang="en">
<head>
    ...
</head>
<body class="logged-in env-production page-responsive full-width">
...
<summary class="Header-link"
         aria-label="View profile and more"
         data-ga-click="Header, show menu, icon:avatar">
    <img class="avatar " alt="@Gedanke" width="20" height="20"
         src="https://avatars3.githubusercontent.com/u/47662202?s=60&amp;u=c88f77d663ceb55358e5b1f285b0e45a870f25f8&amp;v=4">
    <span class="feature-preview-indicator js-feature-preview-indicator" hidden></span>
    <span class="dropdown-caret"></span>
</summary>
...
</body>
</html>
```

å¯ä»¥å‘ç°è¿”å›çš„ç»“æœä¸­åŒ…å«äº†ç™»é™†åæ‰èƒ½æ˜¾ç¤ºçš„å†…å®¹ï¼Œå¦‚æˆ‘çš„ç”¨æˆ·åï¼Œå¦‚æœä½ å°è¯•åŒæ ·çš„æ“ä½œä¹Ÿå¯ä»¥å¾—åˆ°ä½ çš„ä¸ªäººä¿¡æ¯ã€‚

è¿™æ ·ï¼Œæˆ‘ä»¬ç”¨ Cookies æˆåŠŸæ¨¡æ‹Ÿç™»é™†äº†ï¼Œç™»é™†åçš„å†…å®¹éƒ½å¯ä»¥è®¿é—®äº†ã€‚

å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ ```cookies``` å‚æ•°æ¥è®¾ç½® Cookies çš„ä¿¡æ¯ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ª ```RequestsCookieJar``` å¯¹è±¡ï¼Œç„¶åæŠŠåˆšæ‰å¤åˆ¶çš„ Cookie å¤„ç†ä¸‹å¹¶èµ‹å€¼ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_15.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests
from requests.cookies import RequestsCookieJar

cookies = "_octo=GH1.1.1819589382.1584486488; _device_id=099cf2a13524a2c20ad62f0e91191d4d; _ga=GA1.2.813069593.1584486504; tz=Asia%2FShanghai; user_session=ReKP5u5LLH61NGCHZ7Dj4YlpvLt26tHIqIPIK-k9kLWgwp0B; __Host-user_session_same_site=ReKP5u5LLH61NGCHZ7Dj4YlpvLt26tHIqIPIK-k9kLWgwp0B; logged_in=yes; dotcom_user=Gedanke; _gh_sess=bBnIWA4C5jutpcfzayOqVqOHZZvOoX2I9EikNoCNSpNelUcxCvsKTOyKL9n8gjW6cSl08wHzYuEPtDa2NS%2BziQmaxyydldvS22jLFMrOj59jr68j8nDY2IxnTPZsN4rN7vC99Z9ktKubl01LwB%2FroOC3roPhnAabaXbmU1z%2BfF0viOxPDXhw8Su0MdRtVlu8WIEiLwfUdbRABefUVjMxN0OdhRXLOBKyFLLH23Y50wriV47UEy0UuZi0fbcrtW22sFUVk6XCw9tbJ4vCtxD8mScPZCTRyhZE7nGuYLYGsPs8xsZrIkBmEUk1gUXfUlDf%2B1SM5%2BHKhzIDKQkn6%2BSHEfXyMq%2FTJgrUBkFHKy7au%2FYn5zbdeC4aIBQ%2Bdj1U%2FlgaR8pMLiYZGaMPiefoeNdcE1og9jAVOjGG0HF9%2FjGirYVmbgKWReGrbu3Ypm6EXRGrCuCnuLzcjcVDMTl7n5ubq%2F3Le0Io6Wvk4xyIcxeK1OwcGnRtGNfjtGf66C4TTDv3ZLdPJdAxFJxcH2119FRFdXVVN843A%2Fw%2BcsgV6NFbinoXPXtj1ZVznLPD3lj79VwvD1zdgMbqPuuneyTAKWKMPOrZ5w%2B4BHoE0vl%2BHViGVlh07AkdZhfEmSDOPB945z2Z8nOawRjdmybxw%2FDlGGW2y9qHBcLK2BXlgnve0vFCr2bKyj7xPVlHkOFVV032OiiV0eIDsgN5QIsVIgiQwA2R05jO6%2Fu%2F27jerdRSPY72e49sC3ILPo07X%2FogPFnUiD7SNT63CUZHz3V%2FAU0b61esLCMgJjdmNFCTwhLqXGbjdL9tbZpQVr0VmIxOkadO76qK8Wjwl7BYtzctAInrnCS8Z6GTbzvdmO%2FOcmhRjapFANsuw6ma4PtYiScFeJb2NmUwTRJpFIVcOstsrzn2nbvAGp8IsXwn2PTff6XA9E3oca2b%2F71%2Fs3x9ub8EKCzs75%2F2zYnCS1sewoWp9O0ttxo0s0YWdjfSSrMrBhSw4UHgYY43pBFsFpVJetJbfvBCzSo6%2Bmzc8zqE2TqaREdtH73NXTlI%2BAo13VhYVY0%2BaLurI5cKoaGK2iuJrED5xMhtjGhMVbEl9%2BkQMBvca%2FMOVqBUivXcFB9xju7zOauUqQeDMmiXEhyHfMnRnp7LQsi8RuTfi4mXWpGJ6zyiUQS7Bm592jdV77O4oS5gLKdNHcW%2FHv0QAfP81oWPtHMGkB7YzEAaMN06IB%2BXnGYTv2%2Fljuc4Idj3c7A3ALAF5X3HDTIXZZtqM5R%2FvW2tvGNI%2Fr%2FKxKs4%2FmeK6qOoEWS6rDuw0lu9NlyCWGRJxly0QKUUIuhpICSOzg%2FNyurfwZMRdbydfXKo9rh25LbqPxncwxZ1LB81ZBkiclsu%2FwtnjmLmOTpElm4zfB2fPSY2xbsXVyTr07ibNuqCnXJJ5rkJVT773Q5RhOl2LzG7N6oKXEF42UeZUBdJugY31oISUdx8T13nwCtD36QX%2FuEREXzGMQrK%2B8Yt64u%2F6TWJFb9YcYP%2Bdo6eDTcEwgnRBgBgwdDc%2Bg69R2pT2dDn%2B9wi%2BFDIBIuf00yUwzO7WE8skh1b%2FR4ElaEcicPNfmvUX5P9Be4G32WlGCfS0V%2FoQp4QDMt1my47syqBFvrM5RwHfdo9ITwXolR9%2BSsU0r6VTrZWKjvdsaM19AnJ6iCAu7td43YzOf%2BV35hZA2mCi7OePKqRbg%2BWaElXDMJm%2F4R0Fwoie%2B7R1PEPIFpxPcJO%2FpWpbFTziYmgDuOJy%2BWP7L2mIptMe0TZB%2B90TLJejOY4zVWx1FVjZ5qtULq99Ls7%2B%2B0dYQqaTzcCua4FGmXyajMOaOi6T%2FqoIqLFehIDTbNGGvryP4QSC6woVSihpCf7XNC1ALVIfvTu--5lqrnPABlumLAeh2--FIRpm6tm1fHIQ%2FqiVWwqVg%3D%3D"
headers = {
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) "
                  "AppleWebKit/537.36 (KHTML, like Gecko) "
                  "Chrome/80.0.3987.132 Safari/537.36"
}
url = "https://github.com/"
jar = RequestsCookieJar()
for cookie in cookies.split(";"):
    key, value = cookie.split("=", 1)
    jar.set(key, value)

r = requests.get(url=url, cookies=jar, headers=headers)
print(r.text)
```

æ­£å¸¸ç™»é™†ã€‚

è¿™é‡Œæˆ‘ä»¬é¦–å…ˆæ–°å»ºä¸€ä¸ª ```RequestCookieJar``` å¯¹è±¡ï¼Œç„¶åå°†å¤åˆ¶ä¸‹æ¥çš„ cookies åˆ©ç”¨ ```split``` æ–¹æ³•åˆ†å‰²ï¼Œæ¥ç€åˆ©ç”¨ ```set``` æ–¹æ³•è®¾ç½®å¥½æ¯ä¸ª Cookie çš„ ```key``` å’Œ ```value```ï¼Œæœ€åé€šè¿‡è°ƒç”¨ ```requests``` çš„ ```get``` æ–¹æ³•å¹¶ä¼ é€’ç»™ cookies å‚æ•°å³å¯ã€‚

---

### Session ç»´æŒ

åœ¨ä¹‹å‰çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ç”¨ GET å’Œ POST æ–¹æ³•æ¨¡æ‹Ÿè¯·æ±‚ï¼Œå®é™…ä¸Šä¸¤ä¸ªè¯·æ±‚å¯¹åº” Session æ˜¯ä¸åŒçš„ï¼Œé‚£ä¹ˆ Cookies ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œç›¸å¯¹äºä½ ç”¨ä¸¤ä¸ªæµè§ˆå™¨æ‰“å¼€äº†ä¸åŒçš„é¡µé¢ã€‚

åœ¨ç”¨å¤šç§è¯·æ±‚æ–¹å¼è®¿é—®ç½‘ç«™ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ¯æ¬¡è¯·æ±‚éƒ½è®¾ç½® Cookiesï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ª Sessionï¼Œè¿™ä¾¿æ˜¯ Session å¯¹è±¡äº†ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_16.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

requests.get("http://httpbin.org/cookies/set/number/123456789")
r = requests.get("http://httpbin.org/cookies")
print(r.text)
```

ç»“æœä¸ºï¼Œè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼š

```json5
{
  "cookies": {}
}
```

è¿™é‡Œæˆ‘ä»¬è¯·æ±‚äº†ä¸€ä¸ªæµ‹è¯•ç½‘å€ [http://httpbin.org/cookies/set/number/123456789](http://httpbin.org/cookies/set/number/123456789) ã€‚è¯·æ±‚è¿™ä¸ªç½‘å€æ—¶ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ª cookieï¼Œåç§°å«ä½œ numberï¼Œå†…å®¹æ˜¯ 123456789ï¼Œéšååˆè¯·æ±‚äº† [http://httpbin.org/cookies](http://httpbin.org/cookies) ï¼Œæ­¤ç½‘å€å¯ä»¥è·å–å½“å‰çš„ Cookiesã€‚

æ²¡æœ‰å¾—åˆ°ï¼Œä½¿ç”¨ Session è¯•è¯•ã€‚

[ç¨‹åº](../../codes/Module_2/lecture_7/lecture_7_17.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

s = requests.Session()
s.get("http://httpbin.org/cookies/set/number/123456789")
r = s.get("http://httpbin.org/cookies")
```

ç»“æœä¸ºï¼Œè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼š

```json
{
  "cookies": {
    "number": "123456789"
  }
}
```

åˆ©ç”¨ Sessionï¼Œå¯ä»¥åšåˆ°æ¨¡æ‹ŸåŒä¸€ä¸ª Session è€Œä¸ç”¨æ‹…å¿ƒ Cookies çš„é—®é¢˜ã€‚å®ƒé€šå¸¸ç”¨äºæ¨¡æ‹Ÿç™»å½•æˆåŠŸä¹‹åå†è¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œã€‚

---

### SSL è¯ä¹¦éªŒè¯

ä¹‹å‰æˆ‘ä»¬è¯´è¿‡ï¼ŒHTTPS æ¯” HTTP æ›´å®‰å…¨ï¼Œå¦‚æœæœ‰äº›ç½‘ç«™æ²¡æœ‰è®¾ç½® HTTPS è¯ä¹¦ï¼Œæˆ–è€…ç½‘ç«™çš„ HTTPS è¯ä¹¦ä¸è¢« CA æœºæ„è®¤å¯ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¿™äº› URL æ—¶å°±ä¼šå‡ºç° SSL è¯ä¹¦é”™è¯¯ã€‚

ä»¥ [https://static2.scrape.cuiqingcai.com/](https://static2.scrape.cuiqingcai.com/) ä¸ºä¾‹ï¼Œä½¿ç”¨ Chrome æ‰“å¼€å®ƒï¼Œä¼šå‡ºç°ä»¥ä¸‹æç¤ºã€‚

![](../../images/Module_2/lecture_7_7.jpg)

æˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨ä¸­é€šè¿‡ä¸€äº›è®¾ç½®æ¥å¿½ç•¥è¯ä¹¦çš„éªŒè¯ã€‚

ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³ç”¨ ```requests``` æ¥è¯·æ±‚è¿™ç±»ç½‘ç«™ï¼Œä¼šé‡åˆ°ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_18.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "https://static2.scrape.cuiqingcai.com/"
response = requests.get(url)
print(response.status_code)
```

æŠ¥é”™äº†ï¼š

```textmate
requests.exceptions.SSLError: HTTPSConnectionPool(host='static2.scrape.cuiqingcai.com', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError("bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')])")))
```

æŠ›å‡ºäº† ```SSLError``` é”™è¯¯ï¼Œå› ä¸ºæˆ‘ä»¬è¯·æ±‚çš„ URL çš„è¯ä¹¦æ˜¯æ— æ•ˆçš„ã€‚

è¿™ç±»ç½‘ç«™åœ¨æµè§ˆå™¨ä¸­ä¹Ÿæ˜¯å¯ä»¥è®¿é—®çš„ï¼ŒåŒæ ·çš„ï¼Œå®ƒä¹Ÿæ˜¯å¯ä»¥çˆ¬å–çš„ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ```verify``` å‚æ•°æ§åˆ¶æ˜¯å¦éªŒè¯è¯ä¹¦ï¼Œå¦‚æœå°†å…¶è®¾ç½®ä¸º ```False```ï¼Œåœ¨è¯·æ±‚æ—¶å°±ä¸ä¼šå†éªŒè¯è¯ä¹¦æ˜¯å¦æœ‰æ•ˆã€‚å¦‚æœä¸åŠ  ```verify``` å‚æ•°çš„è¯ï¼Œé»˜è®¤å€¼æ˜¯ ```True```ï¼Œä¼šè‡ªåŠ¨éªŒè¯ã€‚

ç¨å¾®æ”¹å†™ï¼Œ[å¦‚ä¸‹](../../codes/Module_2/lecture_7/lecture_7_19.py) ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "https://static2.scrape.cuiqingcai.com/"
response = requests.get(url, verify=False)
print(response.status_code)
```

ç»“æœä¸ºï¼š

```textmate
C:\Users\hasee\AppData\Roaming\Python\Python37\site-packages\urllib3\connectionpool.py:858: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings
  InsecureRequestWarning)
200
```

è¯·æ±‚æˆåŠŸäº†ã€‚

å®ƒç»™å‡ºäº†ä¸€ä¸ªè­¦å‘Šï¼Œå»ºè®®æˆ‘ä»¬ç»™å®ƒæŒ‡å®šè¯ä¹¦ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®å¿½ç•¥è­¦å‘Šçš„æ–¹å¼æ¥å±è”½è¿™ä¸ªè­¦å‘Šã€‚

[ç¨‹åº](../../codes/Module_2/lecture_7/lecture_7_20.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests
import urllib3

urllib3.disable_warnings()
url = "https://static2.scrape.cuiqingcai.com/"
response = requests.get(url, verify=False)
print(response.status_code)
```

æˆ–è€…é€šè¿‡æ•è·è­¦å‘Šåˆ°æ—¥å¿—çš„æ–¹å¼å¿½ç•¥è­¦å‘Šï¼Œ[å¦‚ä¸‹](../../codes/Module_2/lecture_7/lecture_7_21.py) ï¼š

```python
# -*- coding: utf-8 -*-

import requests
import logging

logging.captureWarnings(True)
url = "https://static2.scrape.cuiqingcai.com/"
response = requests.get(url, verify=False)
print(response.status_code)
```

å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªæœ¬åœ°è¯ä¹¦ç”¨ä½œå®¢æˆ·ç«¯è¯ä¹¦ï¼Œè¿™å¯ä»¥æ˜¯å•ä¸ªæ–‡ä»¶(åŒ…å«å¯†é’¥å’Œè¯ä¹¦)æˆ–ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæ–‡ä»¶è·¯å¾„çš„å…ƒç»„ï¼š```crt``` å’Œ ```key``` æ–‡ä»¶ï¼Œå¹¶ä¸”æŒ‡å®šå®ƒä»¬çš„è·¯å¾„ã€‚å¦å¤–æ³¨æ„ï¼Œæœ¬åœ°ç§æœ‰è¯ä¹¦çš„ ```key``` å¿…é¡»æ˜¯è§£å¯†çŠ¶æ€ï¼ŒåŠ å¯†çŠ¶æ€çš„ ```key``` æ˜¯ä¸æ”¯æŒçš„ã€‚

---

### è¶…æ—¶è®¾ç½®

æœ‰æ—¶å€™ä¼šå› ä¸ºç½‘ç»œç­‰å…¶ä»–åŸå› å¾ˆä¹…æ‰èƒ½æ”¶åˆ°å“åº”ï¼Œç”šè‡³æ”¶ä¸åˆ°å“åº”ã€‚ä¸ºäº†é¿å…æœåŠ¡å™¨ä¸èƒ½åŠæ—¶å“åº”ï¼Œåº”è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡è¯¥æ—¶é—´æœªå“åº”å°±åº”è¯¥æŠ¥é”™ã€‚å¯ä»¥ä½¿ç”¨timeoutå‚æ•°ï¼Œè¿™ä¸ªæ—¶é—´çš„è®¡ç®—çš„æ˜¯å‘å‡ºè¯·æ±‚åˆ°æœåŠ¡å™¨è¿”å›å“åº”çš„æ—¶é—´ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_22.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

r = requests.get("http://httpbin.org/get", timeout=1)
print(r.status_code)
```

å¯èƒ½å“åº”ï¼Œä¹Ÿå¯èƒ½ä¸å“åº”ã€‚

æˆ‘ä»¬å°†è¶…æ—¶æ—¶é—´è®¾ç½®ä¸º 1 ç§’ï¼Œå¦‚æœ 1 ç§’å†…æ²¡æœ‰å“åº”ï¼Œé‚£å°±æŠ›å‡ºå¼‚å¸¸ã€‚

å®é™…ä¸Šï¼Œè¯·æ±‚åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œå³è¿æ¥ (connect) å’Œè¯»å– (read)ã€‚ ä¸Šé¢è®¾ç½®çš„ ```timeout``` å°†ç”¨ä½œè¿æ¥å’Œè¯»å–è¿™äºŒè€…çš„ ```timeout``` æ€»å’Œï¼Œå¦‚æœè¦åˆ†åˆ«æŒ‡å®šï¼Œå°±å¯ä»¥ä¼ å…¥ä¸€ä¸ªå…ƒç»„ã€‚

```python
r = requests.get("http://httpbin.org/get", timeout=(5, 30))
```

å¦‚æœæƒ³æ°¸ä¹…ç­‰å¾…ï¼Œå¯ä»¥ç›´æ¥å°† ```timeout``` è®¾ç½®ä¸º ```None```ï¼Œæˆ–è€…ä¸è®¾ç½®ç›´æ¥ç•™ç©ºï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¼šä¸€ç›´ç­‰å¾…å“åº”ã€‚

```python
r = requests.get("http://httpbin.org/get", timeout=None)
```

æˆ–è€…ä¸åŠ å‚æ•°ï¼š

```python
r = requests.get("http://httpbin.org/get")
```

---

### èº«ä»½è®¤è¯

åœ¨è®¿é—®æŸäº›è®¾ç½®äº†èº«ä»½è®¤è¯çš„ç½‘ç«™æ—¶ï¼Œä¾‹å¦‚ï¼š[https://static3.scrape.cuiqingcai.com/](https://static3.scrape.cuiqingcai.com/) ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„è®¤è¯çª—å£ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š

![](../../images/Module_2/lecture_7_8.jpg)

è¿™ç§æƒ…å†µæ˜¯è¯¥ç½‘ç«™å¯ç”¨äº†åŸºæœ¬èº«ä»½è®¤è¯ï¼Œè‹±æ–‡å«ä½œ ```HTTPBasicAccessAuthentication```ï¼Œå®ƒæ˜¯ä¸€ç§ç”¨æ¥å…è®¸ç½‘é¡µæµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·ç«¯ç¨‹åºåœ¨è¯·æ±‚æ—¶æä¾›ç”¨æˆ·åå’Œå£ä»¤å½¢å¼çš„èº«ä»½å‡­è¯çš„ä¸€ç§ç™»å½•éªŒè¯æ–¹å¼ã€‚

é‡åˆ°è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ```requests``` è‡ªå¸¦çš„èº«ä»½è®¤è¯åŠŸèƒ½ï¼Œé€šè¿‡ ```auth``` å‚æ•°å³å¯è®¾ç½®ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_23.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests
from requests.auth import HTTPBasicAuth

url = "https://static3.scrape.cuiqingcai.com/"
r = requests.get(url, auth=HTTPBasicAuth("admin", "admin"))
print(r.status_code)
```

ç»“æœä¸ºï¼š

```text
200
```

è¿™ä¸ªç¤ºä¾‹ç½‘ç«™çš„ç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯ adminï¼Œç›´æ¥è®¾ç½®å³å¯ã€‚

å¦‚æœç”¨æˆ·åå’Œå¯†ç æ­£ç¡®çš„è¯ï¼Œè¯·æ±‚æ—¶ä¼šè‡ªåŠ¨è®¤è¯æˆåŠŸï¼Œè¿”å› 200 çŠ¶æ€ç ï¼›å¦‚æœè®¤è¯å¤±è´¥ï¼Œåˆ™è¿”å› 401 çŠ¶æ€ç ã€‚

ä¸æ˜¯æœ‰ ```HTTPBasicAuth```ï¼Œç›´æ¥ä¼ å…¥ä¸€ä¸ªå…ƒç»„ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå®ƒä¼šé»˜è®¤ä½¿ç”¨ ```HTTPBasicAuth``` è¿™ä¸ªç±»æ¥è®¤è¯ã€‚

ç®€å†™ [å¦‚ä¸‹](../../codes/Module_2/lecture_7/lecture_7_24.py) ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "https://static3.scrape.cuiqingcai.com/"
r = requests.get(url, auth=("admin", "admin"))
print(r.status_code)
```

æ­¤å¤–ï¼Œ```requests``` è¿˜æä¾›äº†å…¶ä»–è®¤è¯æ–¹å¼ï¼Œå¦‚ ```OAuth``` è®¤è¯ï¼Œä¸è¿‡æ­¤æ—¶éœ€è¦å®‰è£… ```oauth``` åŒ…ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š

```shell script
pip3 install requests_oauthlib
```

```requests_oauthlib``` æ›´å¤šå†…å®¹å¯å‚è€ƒå…¶ [å®˜æ–¹æ–‡æ¡£](https://requests-oauthlib.readthedocs.org/) ã€‚

---

### ä»£ç†è®¾ç½®

å¦‚æœæˆ‘ä»¬ä½¿ç”¨å•ä¸€ ip é¢‘ç¹è¯·æ±‚ç½‘ç«™ï¼Œç½‘ç«™å¯èƒ½ä¼šå¼¹å‡ºéªŒè¯ç ï¼Œæˆ–è€…è·³è½¬åˆ°ç™»å½•è®¤è¯é¡µé¢ï¼Œæ›´ç”šè€…å¯èƒ½ä¼šç›´æ¥å°ç¦å®¢æˆ·ç«¯çš„ IPï¼Œå¯¼è‡´ä¸€å®šæ—¶é—´æ®µå†…æ— æ³•è®¿é—®ã€‚

æˆ‘ä»¬å¯ä»¥è®¾ç½®ä»£ç†æ¥é¿å…è¿™äº›é—®é¢˜ï¼Œéœ€è¦ ```proxies``` å‚æ•°ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_25.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

url = "https://httpbin.org/get"
proxies = {
    "http": "http://10.10.10.10:1080",
    "https": "http://10.10.10.10:1080",
}
r = requests.get(url=url, proxies=proxies)
print(r)
```

æŠ¥é”™äº†ï¼Œè¿™æ ·å…«æˆä¸è¡Œï¼Œè¿™è¦éƒ½å¯ä»¥çš„è¯ï¼Œä»£ç† ip çš„å‚å®¶å¯ä»¥å–è¥¿åŒ—é£å»äº†ã€‚ã€‚ã€‚

æˆ‘ä»¬å¯ä»¥ç›´æ¥æœç´¢å¯»æ‰¾æœ‰æ•ˆçš„ä»£ç†å¹¶æ›¿æ¢è¯•éªŒä¸€ä¸‹ã€‚

è‹¥ä»£ç†éœ€è¦ä½¿ç”¨ä¸Šæ–‡æ‰€è¿°çš„èº«ä»½è®¤è¯ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼```http://user:password@host:port```è¿™æ ·çš„è¯­æ³•æ¥è®¾ç½®ä»£ç†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_26.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

proxies = {
    "https": "http://user:password@10.10.10.10:1080/",
}
url = "https://httpbin.org/get"
requests.get(url, proxies=proxies)
```

é™¤äº†åŸºæœ¬çš„ HTTP ä»£ç†å¤–ï¼Œ```requests``` è¿˜æ”¯æŒ SOCKS åè®®çš„ä»£ç†ã€‚

é¦–å…ˆï¼Œéœ€è¦å®‰è£…socksè¿™ä¸ªåº“ï¼š

```shell script
pip3 install "requests[socks]"
```

ç„¶åå°±å¯ä»¥ä½¿ç”¨ SOCKS åè®®ä»£ç†äº†ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_26.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

import requests

proxies = {
    "http": "socks5://user:password@host:port",
    "https": "socks5://user:password@host:port",
}
url = "https://httpbin.org/get"
requests.get(url, proxies=proxies)
```

---

### Prepared Request

```requests``` åœ¨å‘é€è¯·æ±‚æ—¶ä¼šæ„é€ ä¸€ä¸ª Request å¯¹è±¡ï¼Œå¹¶ç»™è¯¥å¯¹è±¡èµ‹äºˆå„ç§å‚æ•°ï¼ŒåŒ…æ‹¬ urlï¼Œheadersï¼Œdata ç­‰ç­‰ã€‚

ä¸‹é¢æˆ‘ä»¬å°è¯•æ„é€ ä¸€ä¸ª Prepared Request å¯¹è±¡ã€‚

[ç¤ºä¾‹](../../codes/Module_2/lecture_7/lecture_7_28.py) å¦‚ä¸‹ï¼š

```python
# -*- coding: utf-8 -*-

from requests import Request, Session

url = "http://httpbin.org/post"
data = {
    "name": "germey"
}
headers = {
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) "
                  "AppleWebKit/537.36 (KHTML, like Gecko) "
                  "Chrome/80.0.3987.132 Safari/537.36"
}
s = Session()
req = Request("POST", url=url, data=data, headers=headers)
prepped = s.prepare_request(req)
r = s.send(prepped)

print(r.text)
```

ç»“æœä¸ºï¼š

```json5
{
  "args": {},
  "data": "",
  "files": {},
  "form": {
    "name": "germey"
  },
  "headers": {
    "Accept": "*/*",
    "Accept-Encoding": "gzip, deflate",
    "Content-Length": "11",
    "Content-Type": "application/x-www-form-urlencoded",
    "Host": "httpbin.org",
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36",
    "X-Amzn-Trace-Id": "Root=1-5e732921-8aa94b987b7b42903544f248"
  },
  "json": null,
  "origin": "117.178.92.249",
  "url": "http://httpbin.org/post"
}
```

å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å¾—åˆ°äº† POST ç›¸åŒçš„è¯·æ±‚æ•ˆæœï¼Œè¿™æ ·çš„æ–¹å¼æ˜¾ç„¶æ›´åŠ çµæ´»ã€‚

æ›´å¤šRequestå†…å®¹å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š[http://docs.python-requests.org/](http://docs.python-requests.org/) ã€‚
